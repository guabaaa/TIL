SQLê³¼ CRUD
SQL - Structured Query Language
CRUD - Create, Read, Update, Delete

SQLì€ ë°ì´í„° ë² ì´ìŠ¤(DB)ì™€ ì‚¬ëžŒì´ ì†Œí†µì„ í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ì´ë‹¤. ê·¸ë¦¬ê³  ì´ ì–¸ì–´ë¡œ ì „ë‹¬ë˜ëŠ” SQL ëª…ë ¹ì„ Queryë¼ê³  í•˜ë©° ê·¸ ì¤‘ì—ì„œë„ ë°ì´í„°ì˜ ìƒì„±ê³¼ ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œì™€ ê°™ì€ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ë“¤ì„ CRUDë¼ê³  ì´ì¹­í•œë‹¤.

ìƒì„±
CREATE (í…Œì´ë¸” ìƒì„±)
CREATE TABLE table_name (column_name column_type, column_name column_type);
CREATE ëŠ” DBì— TABLEDì„ ìƒì„±í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ë‹¤. CREATE TABLE tableëª…(); ê³¼ ê°™ì€ í˜•íƒœë¡œ ì‚¬ìš©í•˜ë©° CRUD ëª…ë ¹ì–´ëŠ” ëŒ€ë¬¸ìžë¡œ, tableëª…ê³¼ ê°™ì´ ì‚¬ìš©ìž ì§€ì •ì–´ëŠ” ì†Œë¬¸ìžë¡œ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¼ë°˜ì ì´ë‹¤.

ì»¬ëŸ¼ ì´ë¦„
ë‘ ê°œ ì´ìƒì˜ ë‹¨ì–´ê°€ ì—°ê²°ë˜ëŠ” ì´ë¦„ì€ PHONE_NUMBERê³¼ ê°™ì´ _ ë¥¼ ì‚¬ìš©í•œë‹¤. (); ì•ˆì—ëŠ” ì»¬ëŸ¼ëª…ê³¼ ì»¬ëŸ¼ì˜ íƒ€ìž…ì„ ë„£ê³  ì»¬ëŸ¼ì´ ë‘ê°œ ì´ìƒì´ë¼ë©´ ,ë¡œ êµ¬ë¶„í•˜ë©° ë§ˆì§€ë§‰ ì»¬ëŸ¼ì—ëŠ” ,ë¥¼ ë„£ì§€ ì•ŠëŠ”ë‹¤.

ì»¬ëŸ¼ íƒ€ìž…
DBë§ˆë‹¤ ì¡°ê¸ˆì”© ì°¨ì´ê°€ ìžˆë‹¤. ë‚˜ëŠ” ë¹„ìš©ì— ëŒ€í•œ ë¼ì´ì„¼ìŠ¤ ë¬¸ì œê°€ ì „í˜€ ì—†ëŠ” postgreSQLì„ ì“°ëŠ”ë°, ì´ ì½”ë¼ë¦¬ DBì—ì„œ ê°€ìž¥ ë§Žì´ ì“°ì´ëŠ” íƒ€ìž…ì€ INTEGERì™€ VARCHAR, DATEì´ë‹¤. ì»¬ëŸ¼ì˜ íƒ€ìž…ì´ ìˆ«ìžë¼ë©´ INTEGER, ë¬¸ìžì—´ì´ë¼ë©´ VARCHAR()ì´ë¼ê³  ì“°ë©° () ì•ˆì—ëŠ” ìµœëŒ€ ê¸¸ì´ë¥¼ ìˆ«ìžë¡œ ìž…ë ¥í•œë‹¤. DATEëŠ” 'YYYY-MM-DD'ì™€ ê°™ì€ í˜•ì‹ì˜ ë¬¸ìžì—´ë¡œ ë‚ ì§œë¥¼ í‘œí˜„í•œë‹¤.

VARCHAR(n) : ë¬¸ìžì—´
INTEGER : ì •ìˆ˜í˜•
DATE : ì‹œê°„('YYYY-MM-DD')
ì™¸ì— ë” ë‹¤ì–‘í•œ postgreSQL ì»¬ëŸ¼ íƒ€ìž…ì€ HAMAë‹˜ì˜ í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.

í…Œì´ë¸” ìƒì„± ì˜ˆì‹œ
ê·¸ëž˜ì„œ ì‹¤ì œ ì ìš© ì˜ˆì‹œëŠ” ì•„ëž˜ì™€ ê°™ë‹¤. member ì´ë¼ëŠ” í…Œì´ë¸”ì— íšŒì›ì•„ì´ë”” ì»¬ëŸ¼ì¸ id, ì´ë¦„ ì»¬ëŸ¼ì¸ name, ì—°ë½ì²˜ ì»¬ëŸ¼ì¸ phone_numberë¥¼ ìƒì„±í•˜ëŠ” ì¿¼ë¦¬ë‹¤.

CREATE TABLE member (
id INTEGER,
name VARCHAR(10),
phone_number VARCHAR(13)
);
INSERT (ë°ì´í„° ìƒì„±)
INSERT INTO table (column_name, column_name) VALUES (DATA, DATA);
INSERT INTO table VALUES (DATA, DATA);
INSERTëŠ” CREATEë¡œ ìƒì„±í•œ í…Œì´ë¸”ê³¼ ì»¬ëŸ¼ì— ë°ì´í„°ë¥¼ ì‚½ìž…í•˜ëŠ” ê²ƒì´ë‹¤. INSERT ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ ìœ„ì™€ ê°™ì´ ë‘ê°€ì§€ ë°©ì‹ì´ ìžˆë‹¤. ìƒì„±í•œ ì»¬ëŸ¼ì˜ ì¼ë¶€ì—ë§Œ ë°ì´í„°ë¥¼ ë„£ì„ ê²ƒì´ë¼ë©´ ë‘ê°œì˜ ê´„í˜¸ ì¤‘ ì²«ë²ˆì§¸ ()ì— ì‚½ìž…ì„ ì›í•˜ëŠ” ì»¬ëŸ¼ì˜ ì´ë¦„ì„, ë‘ë²ˆì§¸ ()ì—ëŠ” í•´ë‹¹ ì»¬ëŸ¼ì— ì‚½ìž…í•  ë°ì´í„°ë¥¼ ë„£ëŠ”ë‹¤.

ë¬¸ìžì—´ íƒ€ìž…ì¸ VARCHARì™€ DATE ëŠ” ''ì•ˆì— ë°ì´í„°ë¥¼ ìž…ë ¥í•´ì•¼í•œë‹¤.
ì •ìˆ˜í˜• íƒ€ìž…ì¸ INTEGERëŠ” '' ì—†ì´ ìˆ«ìžë§Œ ìž…ë ¥í•œë‹¤.

ë°ì´í„° ìƒì„± ì˜ˆì‹œ
INSERT INTO
member (id, name, phone_number)
VALUES
(1, 'ì™•ë°¤ë°©', '010-1234-4321');
í˜¹ì€

INSERT INTO members VALUES (1, 'ì™•ë°¤ë°©', '010-1234-4321');
ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

ì¡°íšŒ
SELECT (ë°ì´í„° ì¡°íšŒ)
SELECT * FROM table
ìœ„ ì˜ˆì‹œëŠ” table í…Œì´ë¸”ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê² ë‹¤ëŠ” ì¿¼ë¦¬ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ, ìœ„ì—ì„œ ìƒì„±í•œ memberí…Œì´ë¸”ì˜ ì „ì²´ ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤ê³  í•˜ë©´ ì¡°íšŒ ì¿¼ë¦¬ì™€ ê²°ê³¼ ë°ì´í„°ëŠ” ì•„ëž˜ì™€ ê°™ë‹¤.

ì¡°íšŒ ì˜ˆì‹œ ì¿¼ë¦¬
SELECT * FROM member
ì¡°íšŒ ê²°ê³¼


ë°ì´í„°ë¥¼ í™œìš©í•´ íŠ¹ì • ì»¬ëŸ¼ì˜ í•©ê³„ë‚˜ í‰ê· , ì›” ë³„ ê±°ëž˜ì•¡ ë“±ë„ ì¡°íšŒí•  ìˆ˜ ìžˆë‹¤.
ì¡°íšŒì— ëŒ€í•œ ë” ìžì„¸í•œ ë‚´ìš©ì€ ë‹¤ë¥¸ í¬ìŠ¤íŒ…ì—ì„œ ì •ë¦¬í•  ì˜ˆì •ì´ë‹¤.

ìˆ˜ì •
UPDATE (ë°ì´í„° ìˆ˜ì •)
UPDATE table SET column = data;
í…Œì´ë¸”ì˜ íŠ¹ì • ì»¬ëŸ¼ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ë•Œì—ëŠ” ìœ„ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

ìœ„ ì´ë¯¸ì§€ì²˜ëŸ¼ member table ë°ì´í„°ì˜ nameì„ 'ì™•ë°¤ë°©'ì—ì„œ 'ì™•ë°¤ë¹µ'ìœ¼ë¡œ ë°”ê¾¸ëŠ” ì¿¼ë¦¬ëŠ” ì•„ëž˜ì™€ ê°™ë‹¤.

UPDATE member SET name = 'ì™•ë°¤ë¹µ';
ì´í›„ SELECTë¬¸ì„ ì‚¬ìš©í•´ member tableì„ ì¡°íšŒí•˜ë©´ ì•„ëž˜ì™€ ê°™ì´ ì´ë¦„ì´ ë°”ë€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.



ê·¸ëŸ°ë° ì´ë•Œ, member í…Œì´ë¸”ì˜ ë°ì´í„°ê°€ ì™•ë°¤ë°© í•˜ë‚˜ê°€ ì•„ë‹ˆë¼, ì—¬ëŸ¬ê°œì˜€ë‹¤ë©´ ì „ì²´ ë°ì´í„°ì˜ name ì»¬ëŸ¼ì´ ëª¨ë‘ 'ì™•ë°¤ë¹µ'ìœ¼ë¡œ ë°”ë€Œì—ˆì„ ê²ƒì´ë‹¤. ì´ë•Œ ì œì•½ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ê²ƒì´ ë°”ë¡œ WHERE ì´ë‹¤.

* WHERE (ì œì•½ ì¡°ê±´)


ìœ„ì™€ ê°™ì€ member í…Œì´ë¸”ì—ì„œ 'í™©ë¯¸ë¯¸'ì˜ phone_number ì—°ë½ì²˜ ë°ì´í„°ë§Œ ìˆ˜ì •í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ëž˜ ì˜ˆì‹œì²˜ëŸ¼ WHERE column = data í˜•ì‹ìœ¼ë¡œ ì œì•½ ì¡°ê±´ì„ ë‘ê³  ì‚¬ìš©í•˜ë©´ ëœë‹¤.

UPDATE member SET phone_number='010-8888-9999' WHERE name='í™©ë¯¸ë¯¸';
í•´ë‹¹ ì¿¼ë¦¬ ì‹¤í–‰ í›„ SELECTë¬¸ìœ¼ë¡œ member í…Œì´ë¸”ì„ ì¡°íšŒí•˜ë©´ ì•„ëž˜ì™€ ê°™ì´ ì „í™”ë²ˆí˜¸ê°€ ë³€ê²½ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.


ë¹„êµ ì—°ì‚°ìž
ì™¸ì—ë„ > , >=, =, <=, <, != ë“±ì„ ì‚¬ìš©í•´ì„œ ë¯¸ë§Œ, ì´í•˜, ì´ˆê³¼, ì´ìƒ, ê°™ê±°ë‚˜ ë‹¤ë¦„ì„ ë¹„êµí•˜ëŠ” ì¡°ê±´ì„ ìž‘ì„±í•  ìˆ˜ë„ ìžˆë‹¤.

ë…¼ë¦¬ ì—°ì‚°ìž
í•˜ë‚˜ ì´ìƒì˜ ì¡°ê±´ì„ ìž‘ì„±í•˜ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” AND í˜¹ì€ OR ë…¼ë¦¬ ì—°ì‚°ìžë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. ë‘ê°€ì§€ ì¡°ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•œ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” AND, ë‘ê°€ì§€ ì¡°ê±´ ì¤‘ í•˜ë‚˜ì˜ ì¡°ê±´ì´ë¼ë„ ì¶©ì¡±í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ì‹¶ë‹¤ë©´ OR ë¥¼ ì‚¬ìš©í•œë‹¤.

ì‚­ì œ
DELETE (ë°ì´í„° ì‚­ì œ)
DELETE FROM table WHERE column = data;
í…Œì´ë¸”ì—ì„œ íŠ¹ì • ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³  ì‹¶ì€ ê²½ìš° ìœ„ì™€ ê°™ì€ í˜•íƒœë¡œ DELETEë¬¸ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì–´ë–¤ ë°ì´í„°ë¥¼ ì§€ìš¸ ê²ƒì¸ì§€ëŠ” WHERE ì„ ì‚¬ìš©í•´ ì œì•½ì¡°ê±´ì„ ë‘˜ ìˆ˜ ìžˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ member í…Œì´ë¸”ì—ì„œ 'ê¹€ë°©ë´‰'ì„ ì‚­ì œí•˜ê³  ì‹¶ì€ ê²½ìš° DELETE FROM member WHERE id=2' í˜¹ì€ WHERE name='ê¹€ë°©ë´‰' ë“±ì˜ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆì„ ê²ƒì´ë‹¤.



ì‹¤ì œë¡œ DELETE ì¿¼ë¦¬ë¡œ ì‚­ì œ í›„ member í…Œì´ë¸”ì„ ì¡°íšŒí•´ë³´ë©´ ìœ„ ì´ë¯¸ì§€ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.

DROP (í…Œì´ë¸” ì‚­ì œ)
DROP TABLE table
tableì˜ íŠ¹ì • ë°ì´í„°ê°€ ì•„ë‹ˆë¼ table ì „ì²´ë¥¼ ì‚­ì œí•˜ê³  ì‹¶ì€ ê²½ìš° DROP TABLE tableëª… ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.



DROP ì„ ì‚¬ìš©í•´ member í…Œì´ë¸” ì‚­ì œ í›„ member í…Œì´ë¸” ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë ¤ê³  í•˜ë©´ member í…Œì´ë¸”ì´ ì¡´ìž¬í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.

ðŸ™ Reference
ì¸í”„ëŸ° í™íŒ sql ìž…ë¬¸ ê°•ì˜
ì¸í”„ëŸ° í™íŒ sql í™œìš© ê°•ì˜

- ì¶œì²˜ : https://velog.io/@wijoonwu/SQL-CRUD-%EC%A0%95%EB%A6%AC