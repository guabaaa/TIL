# ì½œë°±í•¨ìˆ˜ 01

## ğŸª„ ì½œë°±í•¨ìˆ˜(Callback Function)ë€?

<aside>
ğŸ’¡ íŒŒë¼ë¯¸í„°ë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜

</aside>

ì½œë°±í•¨ìˆ˜(Callback Function)ë€ **íŒŒë¼ë¯¸í„°ë¡œ í•¨ìˆ˜ë¥¼ ì „ë‹¬**ë°›ì•„, í•¨ìˆ˜ì˜ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

```jsx
let number = [1,2,3,4,5];

number.forEach( x => {
	console.log(x*2);
});

<output>
2
4
6
8
10
```

ì½œë°±í•¨ìˆ˜ëŠ” ì´ë¯¸ ìš°ë¦¬ì˜ ì½”ë“œ ì†ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ê³ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, `forEach`í•¨ìˆ˜ì˜ ê²½ìš°, í•¨ìˆ˜ ì•ˆì—ì„œ ìµëª…ì˜ í•¨ìˆ˜ë¥¼ ë„£ì–´ì„œ `forEach`ë¬¸ì„ ë™ì‘ì‹œí‚¨ë‹¤.

## ğŸª„ ì½œë°±í•¨ìˆ˜(Callback Function) ì‚¬ìš© ì›ì¹™

### ğŸ” ìµëª…ì˜ í•¨ìˆ˜ ì‚¬ìš©

```jsx
let number = [1,2,3,4,5];

number.forEach(function(x) {
	console.log(x*2);
});
```

ìœ„ì˜ ì˜ˆì œë¥¼ í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ ì¼ë°˜ í•¨ìˆ˜ë¡œ ë°”ê¾¼ ì˜ˆì œì´ë‹¤.

ì½œë°±í•¨ìˆ˜ëŠ” ì´ë¦„ì´ ì—†ëŠ” â€˜ìµëª…ì˜ í•¨ìˆ˜â€™ë¥¼ ì‚¬ìš©í•œë‹¤. í•¨ìˆ˜ì˜ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì´ë¦„ì„ ë¶™ì´ì§€ ì•Šì•„ë„ ëœë‹¤.

### ğŸ” í•¨ìˆ˜ì˜ ì´ë¦„(ë§Œ) ë„˜ê¸°ê¸°

```jsx
function whatYourName(name, callback) {
	console.log('name: ', name);
	callback();
}

function finishFunc() {
	console.log('finish function');
}

whatYourName('miniddo', finishFunc);

<output>
name: miniddo
finish function
```

```jsx
[ TIP ]

JavaScript Data Type
- number, string, boolean, object(function, array, data, regexp), null, undefined
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” `null`ê³¼ `undefined` íƒ€ì…ì„ ì œì™¸í•˜ê³ ëŠ” ëª¨ë“  ê²ƒì„ ê°ì²´ë¡œ ë‹¤ë£¬ë‹¤.

í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ or ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ë³€ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•¨ìˆ˜ë¥¼ ì½œë°±í•¨ìˆ˜ë¡œ ì‚¬ìš©í•  ê²½ìš°, í•¨ìˆ˜ì˜ ì´ë¦„ë§Œ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.

ìœ„ì˜ ì˜ˆì œì—ì„œ, í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì‚¬ìš©í•  ë•Œ `callback`, `finishFunc`ì²˜ëŸ¼ `( )`ë¥¼ ë¶™ì¼ í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.

### ğŸ” ì „ì—­ë³€ìˆ˜, ì§€ì—­ë³€ìˆ˜ ì½œë°±í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ ê°€ëŠ¥

- ì „ì—­ë³€ìˆ˜(Global Variable) : í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ ì„ ì–¸ëœ ë³€ìˆ˜
- ì§€ì—­ë³€ìˆ˜(Local Variable) : í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì„ ì–¸ëœ ë³€ìˆ˜

```jsx
let fruit = 'apple';   // Global Variable

function callbackFunc(callback) {
	let vegetable = 'tomato';   // Local Variable
	callback(vegetable);
}

function eat(vegetable) {
	console.log(`fruit: ${fruit} / vegetable: ${vegetable}`);
}

callbackFunc(eat);

<output>
fruit: apple / vegetable: tomao
```

## ğŸª„ ì½œë°±í•¨ìˆ˜(Callback Function) ì£¼ì˜í•  ì 

### ğŸ” thisë¥¼ ì‚¬ìš©í•œ ì½œë°±í•¨ìˆ˜

```jsx
let userData = {
	signUp: '2023-07-19 14:00:00',
	id: 'guabaaa',
	name: 'Not Set',
	setName: function(firstName, lastName) {
		this.name = firstName + ' ' + lastName;
	}
}

function getUserName(firstName, lastName, callback) {
	callback(firstName, lastName);
}

getuserName('CHO', 'GUABAAA', userData.setName);

console.log('1: ', userData.name);
console.log('2: ', window.name);

<ouput>
1: Not Set
2: CHO GUABAAA
```

ìš°ë¦¬ëŠ” ì²« ë²ˆì§¸ ì½˜ì†”ì˜ ê°’ì´ `CHO GUABAAA`ì´ê¸°ë¥¼ ê¸°ëŒ€í–ˆì§€ë§Œ `Not Set`ì´ ì¶œë ¥ëœë‹¤.

`setName()` í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê¸° ì „ì˜ nameê°’ì´ ë‚˜ì˜¤ëŠ” ê²ƒì¸ë°, ì´ëŠ” `getUserName()`ì´ ì „ì—­í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì´ë‹¤.

ì¦‰, setname()ì—ì„œ ì‚¬ìš©ëœ `this` ê°ì²´ê°€ `window`ë¼ëŠ” ê¸€ë¡œë²Œ ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.

ë”°ë¼ì„œ `this`ë¥¼ ë³´í˜¸í•  ìˆ˜ ìˆë„ë¡ ì½œë°±í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

> í•´ê²° ë°©ì•ˆ : `call()`ê³¼ `apply()`ë¥¼ ì‚¬ìš©í•˜ì—¬ `this`ë¥¼ ë³´í˜¸í•  ìˆ˜ ìˆë‹¤.
>

- `call()` : ì²« ë²ˆì§¸ ì¸ìë¡œ `this` ê°ì²´ ì‚¬ìš©, ë‚˜ë¨¸ì§€ ì¸ìë“¤ì€ `,`ë¡œ êµ¬ë¶„
- `apply()` : ì²« ë²ˆì§¸ ì¸ìë¡œ `this` ê°ì²´ ì‚¬ìš©, ë‚˜ë¨¸ì§€ ì¸ìë“¤ì€ ë°°ì—´ í˜•íƒœë¡œ ì „ë‹¬

```jsx
// call

...

function getUserName(firstName, lastname, callback, obj) {
	callback.call(obj, firstName, lastName);      - (1)
}

getUserName('CHO', 'GUABAAA', userData.setName, userData);   - (2)

console.log(userData.name);

<output>
CHO GUABAAA
```

(2) ì—ì„œ ë§ˆì§€ë§‰ ì¸ìì— ë‹´ê¸´ `userData`ëŠ” (1)ì—ì„œ call í•¨ìˆ˜ì˜ ì²« ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬ëœë‹¤.

ì¦‰, `call()`ì— ì˜í•´ì„œ `userData`ì— `this`ê°ì²´ê°€ ë§¤í•‘ëœë‹¤.

`apply()`ë„ ì¸ìë¥¼ ë°°ì—´ë¡œ ì „ë‹¬í•œë‹¤ëŠ” ì ë§Œ ë‹¤ë¥´ê³  ë™ì¼í•˜ê²Œ ì‘ë™í•œë‹¤.

```jsx
// apply

...

function getUserName(firstName, lastName, callback, obj) {
	callback.apply(obj, [firstName, lastName]);
}

getUserName('CHO', 'GUABAAA', userData.setName, userData);

console.log(userData.name);

<output>
CHO GUABAAA
```

### ğŸ” ì½œë°±ì§€ì˜¥ (Callback Hell)

ë¹„ë™ê¸° í˜¸ì¶œì´ ìì£¼ ì¼ì–´ë‚˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ê²½ìš° â€˜ì½œë°± ì§€ì˜¥â€™ì´ ë°œìƒí•œë‹¤.

í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ê²¨ì§€ëŠ” ì½œë°± í•¨ìˆ˜ê°€ ë°˜ë³µë˜ì–´ ì½”ë“œì˜ ë“¤ì—¬ì“°ê¸° ìˆ˜ì¤€ì´ ê°ë‹¹í•˜ê¸° í˜ë“¤ì–´ì§ˆ ì •ë„ë¡œ ê¹Šì–´ì§€ëŠ” í˜„ìƒì´ë‹¤.

```jsx
function add(x, callback) {
	let sum = x + x;
	console.log(sum);
	callback(sum);
}

add(2, function(result) {
	add(result, function(result) {
		add(result, function(result) {
			console.log('finish!!');
		})
	})
})

<output>
4
8
16
finish!!
```

> í•´ê²° ë°©ì•ˆ : `Promise`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½œë°±ì§€ì˜¥ì„ íƒˆì¶œí•  ìˆ˜ ìˆë‹¤.
>

```jsx
function add(x) {
	return new Promise((resolve, reject) => {
		let sum = x + x;
		console.log(sum);
		resolve(sum);
	})
}

add(2).then(result => {
	add(result).then(result => {
		add(result).then(result => {
			console.log('finish!!');
		})
	})
})

<output>
4
8
16
finish!!
```

`Promise`ëŠ” ì •ìƒ ìˆ˜í–‰ í›„ `resolve`, ì‹¤í–‰ í›„ `reject`ê°€ ì‹¤í–‰ëœë‹¤.

`callback`ì„ ì‚¬ìš©í–ˆë˜ ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ `resolve`ì— ê°’ì„ ë‹´ì•„ ì „ë‹¬í•œë‹¤.

í•˜ì§€ë§Œ, ì´ íŒ¨í„´ë„ ê·¸ë¦¬ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹ˆë‹¤. ê²°êµ­ ì½œë°±ì§€ì˜¥ì²˜ëŸ¼ ë“¤ì—¬ì“°ê¸° ìˆ˜ì¤€ì„ ê°ë‹¹í•˜ê¸° í˜ë“¤ì–´ì§„ë‹¤.

> í•´ê²° ë°©ì•ˆ : `Promise`ì˜ return ì‚¬ìš©í•˜ì—¬ Promise Hellì„ íƒˆì¶œí•  ìˆ˜ ìˆë‹¤.
>

*í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ ë¹„ë™ê¸° ë©”ì„œë“œì—ì„œ ë§ˆì¹˜ ë™ê¸° ë©”ì„œë“œì²˜ëŸ¼ ê°’ì„ **ë°˜í™˜**í•  ìˆ˜ ìˆë‹¤.*

*ë‹¤ë§Œ, ìµœì¢… ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ì§€ëŠ” ì•Šê³ , ëŒ€ì‹  í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•´ì„œ ë¯¸ë˜ì˜ ì–´ë–¤ ì‹œì ì— ê²°ê³¼ë¥¼ ì œê³µí•œë‹¤.*

`MDN`ì—ì„œ ì •ì˜í•˜ê³  ìˆëŠ” `Promise`ì— ëŒ€í•œ ì„¤ëª…ì´ë‹¤.

í”„ë¡œë¯¸ìŠ¤ëŠ” ë¹„ë™ê¸° í˜¸ì¶œ ì‹œ, ë§ˆì¹˜ ë™ê¸° í˜¸ì¶œì²˜ëŸ¼ ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸êµ¬ì— ì§‘ì¤‘í•œë‹¤.

ì¦‰, `resolve`ë¥¼ í†µí•´ ì „ë‹¬ ë°›ì€ ê°’ì„ **ë°˜í™˜**í•˜ì—¬ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```jsx
function add(x) {
	return new Promise((resolve, reject) => {
		let sum = x + x;
		console.log(sum);
		resolve(sum);
	})
}

add(2).then(result => {
	return add(result);
}).then(result => {
	return add(result);
}).then(result => {
	console.log('finish!!');
})

<output>
4
8
16
finish!!
```

> ë§ˆë¬´ë¦¬ í•˜ë©°?

Promiseì™€ async/awaitë¥¼ ì‚¬ìš©í•˜ì??
>

-ì°¸ê³  : [https://velog.io/@minidoo/ìë°”ìŠ¤í¬ë¦½íŠ¸-ì½œë°±-í•¨ìˆ˜Callback-Function](https://velog.io/@minidoo/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%BD%9C%EB%B0%B1-%ED%95%A8%EC%88%98Callback-Function)