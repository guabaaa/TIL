# 프로토타입(Prototype)

## 🪄 프로토타입(Prototype)의 개념

<aside>
💡 객체는 프로토타입을 기반으로 생성되며, 프로토타입은 객체 간의 상속과 메서드 및 속성의 공유를 가능하게 한다.

자바스크립트에서 모든 객체는 프로토타입을 가지고 있다. 객체를 생성할 때, 해당 객체의 프로토타입을 정의하거나 다른 객체를 상속받을 수 있다.
프로토타입은 객체가 가지는 메서드와 속성의 집합이며, 해당 객체의 프로토타입에 정의된 메서드와 속성은 객체에서 사용할 수 있다.

프로토타입은 `prototype` 속성을 통해 객체와 연결된다. 객체의 `prototype` 속성은 해당 객체의 프로토타입 객체를 가리키며,
이 프로토타입 객체는 다시 다른 객체의 `prototype` 속성을 통해 연결될 수 있다.
이런 식으로 객체 간에 프로토타입 체인(Prototype Chain)이 형성된다.
프로토타입 체인을 통해 객체는 상위 프로토타입의 메서드와 속성을 상속받을 수 있다.

프로토타입을 이용하면 객체 간에 코드를 재사용할 수 있다.
한 객체에서 정의된 메서드와 속성은 그 객체를 생성한 모든 객체들이 공유하게 된다. 이는 메모리와 성능 면에서 이점을 가져올 수 있다.
객체를 생성할 때마다 중복된 메서드와 속성을 생성하지 않고, 프로토타입 체인을 통해 해당 메서드와 속성을 공유함으로써 코드의 중복을 피할 수 있다.

프로토타입은 자바스크립트에서 클래스 기반 상속을 구현하는데 사용된다.
ES6 에서는 클래스 문법이 도입되었지만, 그 기반에는 여전히 프로토타입이 사용된다.
클래스는 사실상 프로토타입을 더 쉽게 사용하기 위한 문법적인 감싸임(wrapper)일 뿐이다.

자바스크립트에서 프로토타입을 직접 다루는 일은 상대적으로 드물지만,
객체 지향 프로그래밍과 자바스크립트의 동적 원리를 이해하는 데 있어서 중요한 개념이다.

</aside>

<aside>
💡 프로토타입은 객체 간의 상속을 가능하게 한다. 이를 이해하기 위해서는 프로토타입 체인에 대한 개념을 이해해야 한다.

프로토타입 체인은 객체의 프로토타입이 다른 객체의 프로토타입을 참조하고, 이런 관계가 계속해서 연결되어 형성되는 구조이다.
즉, 한 객체의 프로토타입이 다른 객체를 가리키고, 그 객체의 프로토타입이 또 다른 객체를 가리키는 식으로 연결되어 프로토타입 체인이 형성된다.

프로토타입 체인을 따라가면서 객체에서 메서드나 속성을 찾을 때,
해당 객체의 자신에게 정의된 메서드나 속성이 없다면 프로토타입 체인을 따라 위로 올라가면서 상위 프로토타입을 검색한다.
이 과정은 최상위 프로토타입(일반적으로 `Object.prototype`)까지 이어지며, 만약 그곳에서도 찾지 못하면 `undefined`를 반환한다.

이런 프로토타입 체인의 동작을 통해 객체 간에 메서드와 속성을 상속하고 공유할 수 있다.
예를 들어 아래 코드에서 `Dog` 객체는 `Animal` 객체를 상속하고 있다.

</aside>

```tsx
function Animal(name) {
	this.name = name;
}

Animal.prototype.sayHello = function() {
	console.log(`Hello, myname is ${this.name}`);
}

function Dog(name, breed) {
	Animal.call(this, name);
	this.breed = breed;
}

Dog.prototype = Object.create(Animal.prototype);
Dog.prototype.constructor = Dog;

Dog.prototype.bark = function() {
	console.log("Woof woof!");
}

const myDog = new Dog("Max", "Labrador");
myDog.sayHello(); // "Hello, my name is Max"
myDog.bark();     // "Woof woof!"
```

<aside>
💡 위의 코드에서 `Animal`은 부모 객체로서 `sayHello` 메서드를 가지고 있다.
`Dog`는 `Animal`을 상속받으며, `bark`메서드를 추가로 정의한다.
`myDog`객체는 `Dog`의 인스턴스이므로 `sayHello`와 `bark`메서드를 모두 사용할 수 있다.

`Dog`의 인스턴스인 `myDog`에서 `sayHello`를 호출하면,
자신에게는 `sayHello`메서드가 없지만 프로토타입 체인을 따라 상위 프로토타입인 `Animal`에서 `sayHello`를 찾아 사용할 수 있다.

</aside>

<aside>
💡 이렇게 프로토타입을 이용하면 객체 간에 코드를 재사용하고 상속 관계를 형성할 수 있다.
프로토타입은 자바스크립트의 객체 지향 프로그래밍에서 중요한 개념이며, 이해하고 사용하면 유연하고 재사용 가능한 코드를 작성할 수 있다.

</aside>